<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

<div class="header">
  <div class="img-logo">
    <img src="../../../assets/KU_SubLogo_Thai.png" alt="" width="150px" class="logo"/>
  </div>
  <div class="link-header">
    <div class="box-user">
      <span class="material-symbols-outlined">account_circle</span>
      <p>{{ firstname }} {{ lastname }}</p>
    </div>
    <div class="box-university">มหาวิทยาลัยเกษตรศาสตร์</div>
  </div>
</div>
<div class="nav">
  <div class="ham-menu" (click)="myFunction($event.target)">
    <div>
      <div class="bar1"></div>
      <div class="bar2"></div>
      <div class="bar3"></div>
    </div>
  </div>
  <div class="navbar-item" id="myMenu">
    <a [routerLink]="['/fitnessitem']">อุปกรณ์กีฬา</a>
    <a [routerLink]="['/selections']">รายการยืมทั้งหมด</a>
    <a [routerLink]="['/qrcode']">QR CODE</a>
    <a [routerLink]="['/profile']">ข้อมูลส่วนตัว</a>
    <a (click)="logout()">ออกจากระบบ</a>
  </div>
</div>
<div class="selections">
  <div class="title-selections">
    <div class="head-selection">รายการยืมทั้งหมด</div>
  </div>
  <table id="customers">
    <thead>
      <tr>
        <th>รหัสรายการ</th>
        <th>รูปภาพ</th>
        <th>ชื่ออุปกรณ์</th>
        <th>จำนวน</th>
        <th>หน่วยนับ</th>
        <th>รายละเอียดอุปกรณ์</th>
        <th>วันที่ยืม</th>
        <th>การจัดการ</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let selection of selection">
        <tr *ngIf="selection.borrowing_returning_status === '' || selection.borrowing_returning_status === 'N'">
          <td data-call="รหัสรายการ">{{ selection.borrowing_returning_id }}</td>
          <td data-call="รูปภาพ"><a [href]="selection.equipmentlist_picture"><span class="material-symbols-outlined">image</span></a></td>
          <td data-call="ชื่ออุปกรณ์">{{ selection.equipmentlist_name }}</td>
          <td data-call="จำนวน">{{ selection.order_count }}</td>
          <td data-call="หน่วยนับ">{{ selection.equipmentlist_unit }}</td>
          <td class="item-detail" [title]="selection.equipmentlist_detail" data-call="รายละเอียดอุปกรณ์">{{ selection.equipmentlist_detail }}</td>
          <td data-call="วันที่ยืม">{{ selection.date_borrowing | thaiDate }}</td>
          <td data-call="การจัดการ">
            <span *ngIf="selection.borrowing_returning_status === 'N'">
              <button class="confirm">ยืนยันแล้ว</button>
            </span>
            <span *ngIf="selection.borrowing_returning_status === ''">
              <button class="delete" (click)="delete_order_set(selection.order_id, selection)">ยกเลิกรายการ</button>
            </span>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>
